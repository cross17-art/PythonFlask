{"ast":null,"code":"var _jsxFileName = \"C:\\\\Python\\\\Project 1\\\\client\\\\src\\\\components\\\\uploadDiv.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport fontawesome from '@fortawesome/fontawesome';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCloudUploadAlt } from '@fortawesome/fontawesome-free-solid';\nimport { Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport Notice from \"./Alert/Notice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst UploadDiv = () => {\n  _s();\n\n  const [csvfile, setSCV] = useState();\n  const [textFile, setTextFile] = useState(\"Click by me\");\n  const [ValidFile, setValidFile] = useState(0);\n  const [success, setSuccess] = useState(0);\n  const [textAlert, setTextAlert] = useState(\"File upload success\");\n\n  function ver(e) {\n    if (e.target.files[0].type === \"application/vnd.ms-excel\") {\n      console.log(\"Its scv file\");\n      setSCV(e.target.files[0]);\n      setTextFile(\"File name:\" + e.target.files[0].name);\n      setValidFile(1);\n    } else {\n      console.log(\"Its not scv file\");\n      setTextFile(\"The file type does not correspond to reality\");\n      setValidFile(0);\n    }\n  }\n\n  const SendRequest = () => {\n    if (csvfile != undefined) {\n      let form = new FormData();\n      form.append(\"arrFile\", csvfile);\n      fetch(\"/create_db\", {\n        method: 'POST',\n        body: form\n      }).then(res => {\n        console.log(res);\n        setSuccess(true);\n        setTimeout(() => {\n          window.location.reload(false);\n          setSuccess(false);\n        }, 1500); //   window.location.reload(false);\n      });\n    } else {\n      setTextFile(\"You need to download the file first\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [success ? /*#__PURE__*/_jsxDEV(Notice, {\n        data: \"text upload success\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 22\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(Notice, {\n        data: textAlert\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"uploud-file\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-file\",\n          type: \"file\",\n          accept: \".csv\",\n          id: \"file\",\n          onChange: e => {\n            ver(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), ValidFile ? /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"file\",\n          className: \"\",\n          children: textFile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"file\",\n          className: \"\",\n          children: textFile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"file\",\n          className: \"display-icon-lable\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: \"cloud-upload-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: SendRequest,\n        children: \"Send file\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\n_s(UploadDiv, \"VfCsA0jfX2anBraLkDYBjVv4DGA=\");\n\n_c = UploadDiv;\nexport default UploadDiv;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadDiv\");","map":{"version":3,"sources":["C:/Python/Project 1/client/src/components/uploadDiv.jsx"],"names":["React","useState","fontawesome","FontAwesomeIcon","faCloudUploadAlt","Button","axios","Notice","UploadDiv","csvfile","setSCV","textFile","setTextFile","ValidFile","setValidFile","success","setSuccess","textAlert","setTextAlert","ver","e","target","files","type","console","log","name","SendRequest","undefined","form","FormData","append","fetch","method","body","then","res","setTimeout","window","location","reload"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,SAAQC,eAAR,QAA8B,gCAA9B;AACA,SAASC,gBAAT,QAAgC,qCAAhC;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;;;;AAEA,MAAMC,SAAS,GAAE,MAAI;AAAA;;AACjB,QAAM,CAACC,OAAD,EAASC,MAAT,IAAmBT,QAAQ,EAAjC;AACA,QAAM,CAACU,QAAD,EAAUC,WAAV,IAAwBX,QAAQ,CAAC,aAAD,CAAtC;AACA,QAAM,CAACY,SAAD,EAAWC,YAAX,IAA0Bb,QAAQ,CAAC,CAAD,CAAxC;AACA,QAAM,CAACc,OAAD,EAASC,UAAT,IAAuBf,QAAQ,CAAC,CAAD,CAArC;AACA,QAAM,CAACgB,SAAD,EAAWC,YAAX,IAA2BjB,QAAQ,CAAC,qBAAD,CAAzC;;AAEA,WAASkB,GAAT,CAAcC,CAAd,EAAgB;AACZ,QAAGA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBC,IAAlB,KAAyB,0BAA5B,EAAuD;AACnDC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAf,MAAAA,MAAM,CAACU,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAN;AACAV,MAAAA,WAAW,CAAC,eAAaQ,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBI,IAAhC,CAAX;AACAZ,MAAAA,YAAY,CAAC,CAAD,CAAZ;AAEH,KAND,MAMK;AACDU,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAb,MAAAA,WAAW,CAAC,8CAAD,CAAX;AACAE,MAAAA,YAAY,CAAC,CAAD,CAAZ;AACH;AACJ;;AACD,QAAMa,WAAW,GAAG,MAAI;AACpB,QAAGlB,OAAO,IAAEmB,SAAZ,EAAsB;AAClB,UAAIC,IAAI,GAAG,IAAIC,QAAJ,EAAX;AACAD,MAAAA,IAAI,CAACE,MAAL,CAAY,SAAZ,EAAuBtB,OAAvB;AAGAuB,MAAAA,KAAK,CAAC,YAAD,EAAe;AAChBC,QAAAA,MAAM,EAAE,MADQ;AAEhBC,QAAAA,IAAI,EAAEL;AAFU,OAAf,CAAL,CAIGM,IAJH,CAKMC,GAAG,IAAE;AACDZ,QAAAA,OAAO,CAACC,GAAR,CAAYW,GAAZ;AACApB,QAAAA,UAAU,CAAC,IAAD,CAAV;AACAqB,QAAAA,UAAU,CAAC,MAAI;AACbC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACAxB,UAAAA,UAAU,CAAC,KAAD,CAAV;AAED,SAJS,EAIR,IAJQ,CAAV,CAHC,CAQH;AAEH,OAfL;AAkBH,KAvBD,MAuBK;AACDJ,MAAAA,WAAW,CAAC,qCAAD,CAAX;AACH;AAIJ,GA9BD;;AAgCA,sBACA;AAAA,2BACA;AAAA,iBAEQG,OAAO,gBAAE,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAE;AAAd;AAAA;AAAA;AAAA;AAAA,cAAF,GAAyC,EAFxD,eAII,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAEE;AAAd;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKG;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACK;AAAO,UAAA,SAAS,EAAC,YAAjB;AAA8B,UAAA,IAAI,EAAC,MAAnC;AAA0C,UAAA,MAAM,EAAC,MAAjD;AAAwD,UAAA,EAAE,EAAG,MAA7D;AAAoE,UAAA,QAAQ,EAAGG,CAAD,IAAK;AAACD,YAAAA,GAAG,CAACC,CAAD,CAAH;AAAO;AAA3F;AAAA;AAAA;AAAA;AAAA,gBADL,EAEMP,SAAS,gBACN;AAAO,UAAA,GAAG,EAAC,MAAX;AAAkB,UAAA,SAAS,EAAC,EAA5B;AAAA,oBAAiCF;AAAjC;AAAA;AAAA;AAAA;AAAA,gBADM,gBAEN;AAAO,UAAA,GAAG,EAAC,MAAX;AAAkB,UAAA,SAAS,EAAC,EAA5B;AAAA,oBAAiCA;AAAjC;AAAA;AAAA;AAAA;AAAA,gBAJT,eAMK;AAAO,UAAA,GAAG,EAAC,MAAX;AAAkB,UAAA,SAAS,EAAC,oBAA5B;AAAA,iCAEI,QAAC,eAAD;AAAiB,YAAA,IAAI,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,gBANL;AAAA;AAAA;AAAA;AAAA;AAAA,cALH,eAiBK;AAAQ,QAAA,SAAS,EAAC,KAAlB;AAAwB,QAAA,OAAO,EAAEgB,WAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBL;AAAA;AAAA;AAAA;AAAA;AAAA;AADA,mBADA;AA0BH,CA9ED;;GAAMnB,S;;KAAAA,S;AAgFN,eAAeA,SAAf","sourcesContent":["import React,{useState} from \"react\";\r\nimport fontawesome from '@fortawesome/fontawesome'\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport { faCloudUploadAlt} from '@fortawesome/fontawesome-free-solid'\r\nimport { Button } from 'react-bootstrap';\r\nimport axios from 'axios'\r\nimport Notice from \"./Alert/Notice\";\r\n\r\nconst UploadDiv =()=>{\r\n    const [csvfile,setSCV] = useState();\r\n    const [textFile,setTextFile] =useState(\"Click by me\");\r\n    const [ValidFile,setValidFile] =useState(0);\r\n    const [success,setSuccess] = useState(0);\r\n    const [textAlert,setTextAlert] = useState(\"File upload success\");\r\n\r\n    function ver (e){\r\n        if(e.target.files[0].type===\"application/vnd.ms-excel\"){\r\n            console.log(\"Its scv file\")\r\n            setSCV(e.target.files[0])\r\n            setTextFile(\"File name:\"+e.target.files[0].name)\r\n            setValidFile(1)\r\n\r\n        }else{\r\n            console.log(\"Its not scv file\")\r\n            setTextFile(\"The file type does not correspond to reality\")\r\n            setValidFile(0)\r\n        } \r\n    }\r\n    const SendRequest = ()=>{\r\n        if(csvfile!=undefined){\r\n            let form = new FormData();\r\n            form.append(\"arrFile\", csvfile);\r\n\r\n\r\n            fetch(\"/create_db\", {\r\n                method: 'POST',\r\n                body: form\r\n              })\r\n              .then(\r\n                  res=>{\r\n                      console.log(res)\r\n                      setSuccess(true)\r\n                      setTimeout(()=>{\r\n                        window.location.reload(false);\r\n                        setSuccess(false)\r\n\r\n                      },1500)\r\n                    //   window.location.reload(false);\r\n                      \r\n                }\r\n                  \r\n                );\r\n        }else{\r\n            setTextFile(\"You need to download the file first\")\r\n        }\r\n\r\n      \r\n    \r\n    }\r\n\r\n    return(\r\n    <>\r\n    <div>\r\n        {\r\n            success? <Notice data={\"text upload success\"}/>:\"\"\r\n        }\r\n        <Notice data={textAlert}/>\r\n       <div className=\"uploud-file\">\r\n            <input className=\"input-file\" type=\"file\" accept=\".csv\" id = \"file\" onChange={(e)=>{ver(e)}}></input>\r\n            {ValidFile?\r\n                <label for=\"file\" className=\"\" >{textFile}</label>:\r\n                <label for=\"file\" className=\"\" >{textFile}</label>\r\n            }\r\n            <label for=\"file\" className=\"display-icon-lable\">\r\n                \r\n                <FontAwesomeIcon icon=\"cloud-upload-alt\" />\r\n            </label>\r\n        </div>\r\n    \r\n         <button className=\"btn\" onClick={SendRequest}>Send file</button>\r\n\r\n    </div>\r\n     \r\n     </>       \r\n         \r\n    )\r\n}\r\n\r\nexport default UploadDiv"]},"metadata":{},"sourceType":"module"}